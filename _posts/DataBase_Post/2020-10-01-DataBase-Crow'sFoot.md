---
title   : "식별관계와 비식별관계"
categories : 
    - DB
tags : 
    - DataBase
sidebar:
    title: "DataBase"
    nav : sidebar-posts
---

## 식별 관계  
- 부모 테이블의 PK(Primary Key)가 자식 테이블의 PK로 사용되는 관계
- 부모 테이블의 PK가 자식 테이블의 FK이자 PK로 사용되는 경우를 말한다.  


부모 테이블의 키가 자신의 기본카에 포함되기 때문에 반드시 부모 테이블에 데이터가 존재해야 자식 테이블에 데이터를 입력할 수 있다. 즉, 부모 데이터가 없다면 자식 데이터는 생길 수 없다.  

식별관계는 ERD에서 실선으로 표시한다. 자식 테이블에 데이터가 존재한다면 부모 데이터가 반드시 존재하는 상태가 된다.  

게시판에 첨부파일을 등록 할 수 있다. 첨부파일은 여러 개가 등록될 수 있으니 첨부파일 테이블은 게시판 테이블과 별도로 만든다. 여기서 생각해보자. 게시글이 등록되지 않은 상태에서 첨부파일이 등록될 수 있을까? 첨부파일을 등록하려면 게시글 반드시 등록해야한다. 이런 경우를 식별관계라 한다.  

## 비식별 관계  
- 부모 테이블의 PK가 자식 테이블의 일반 컬럼이나 FK컬럼에 저장되는 관계
- 자식 테이블의 행을 추가할 때 부모 테이블에 참조 행이 없이도 자식 테이블에는 행을 추가하는 일이 가능하다.
- 부모 테이블의 PK가 자식 테이블의 FK컬럼에 저장되더라도 FK는 null을 허용하기 때문에 부모 테이블의 참조 행이 없어도 자식 테이블의 행을 추가할 수 있다.  

자식 데이터는 부모 데이터가 없어도 독립적으로 생성될 수 있다.  

비식별 관계는 ERD에서 점선으로 표시한다.

부서 테이블과 사원 테이블을 예로 들어보자. 이제 갓 입사한 신입사원은 부서를 배정 받지 못해도 사원 테이블에 등록 할 수 있어야 한다.  

__정리__  
부모 테이블의 PK가 자식 테이블의 PK로 사용되는 관계는 식별 관계  
부모 테이블의 PK가 자식 테이블의 일반 컬럼이나 FK컬럼에 저장되는 관계는 비식별 관계

