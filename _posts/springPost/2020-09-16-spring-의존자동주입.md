---
title   : "의존 자동 주입"
excerpt : "초보 웹 개발자를 위한 스프링5 프로그래밍 입문 - 최범균 저"
categories : 
    - Spring
tags : 
    - Spring
    - Web
sidebar:
    title: "Spring"
    nav : sidebar-posts
---  
```java
@Configuration
public class ConfigApplication {

    @Bean
    public MemberDao memberDao() {
        return new MemberDao();
    }

    @Bean
    public ChangePasswordService changePwdSvc() {
        ChangePasswordService pwdSvc = new ChangePasswordService();
        pwdSvc.setMemberDao(memberDao());
        return pwdSvc;
    }
}
```
위처럼 설정 클래스를 이용해 생성자나 setter 메서드를 이용해서 주입했다.  
의존 대상을 설정 클래스에서 직접 주입하지 않고 __스프링이 자동으로 의존하는 Bean객체를 주입해주는 기능이 있다. 이를 자동 주입이라고 한다__  
<br/>

스프링에서 의존 자동 주입을 설정하려면 `@Autowired` 애노테이션이나 `@Resoure` 애노테이션을 사용하면된다.  

>@javax.annotaion.Resoure 애노테이션은 자바에서 제공하는 애노테이션으로 스프링은 @Resouce 애노테이션뿐만 아니라 자바EE에서 제공하는 @Javax.inject.Inject 애노테이션도 지원한다. 스프링은 @Autowired 애노테이션과 유사하게 이 두 애노테이션에 대해 자동 주입을 적용한다.
  
자동 주입 기능을 사용하면 스프링이 알아서 의존 객체를 찾아서 주입한다.  
```java
(1)
@Bean
public MemberDao memberDao() {
    return new MemberDao();
}

@Bean
public ChangePasswordService changePwdSvc() {
    ChangePasswordService pwdSvc = new ChangePasswordService();
    pwdSvc.setMemberDao(memberDao());
    return pwdSvc;
} 
----------------------------------------------------------------------------
(2)
public MemberDao memberDao() {
    return new MemberDao();
}

@Bean
public ChangePasswordService changePwdSvc() {
    ChangePasswordService pwdSvc = new ChangePasswordService();
    return pwdSvc;
}
```  
(1)을 보면 의존 객체를 명시해 줬지만 자동 주입을 사용 하면 (2)처럼 의존 객체를 명시하지 않아도 스프링이 필요한 의존 Bean 객체를 찾아서 주입해준다.  

자동 주입 기능을 사용하려면 의존을 주입할 대상에 `@Autowired` 애노테이션을 붙이면된다.  
```java
public class ChangePasswordService {

    @Autowired
    private MemberDao memberDao;
    ...
}
```  
`@Autowired` 애노테이션을 붙이면 설정 클래스에서 의존을 주입하지 않아도 된다. 필드에 `@Autowired` 애노테이션이 붙어 있으면 스프링이 해당 타입의 Bean 객체를 찾아서 필드에 할당한다.  

Bean 객체의 메서드에 @Autowired 애노테이션을 붙이면 스프링은 해당 메서드를 호출한다. 이때 메서드 파라미터 __타입__ 에 해당하는 객체를 찾아 인자로 주입한다.  

![autowired](/assets/img/spring/autowired.PNG)  

`@Autowired`를 필드나 세터 메서드에 붙이면 스프링은 __타입__ 이 일치하는 Bean객체를 찾아서 주입한다.


