---
title   : "다양한 연관관계 매핑 - 3"
categories : 
    - jpa
tags : 
    - java
    - spring
    - jpa
sidebar:
    title: "JPA"
    nav : sidebar-posts
---  


## 다대다[N:N]  

관계형 데이터베이스에서는 정규화된 테이블 2개를 다대다 관계를 표현할 수 없다.  

그래서 다대다 관계를 일대다, 다대일 관계로 풀어내는 연결 테이블을 사용한다.  

예를 들자면 회원과 상품의 관계를 들어보자  

한 명의 회원이 쇼핑몰에서 상품을 구매할 때 여러가지 상품을 구매할 수 있다.  

쇼핑몰에 있는 하나의 상품 역시 여러 명의 회원이 구매 할 수 있으므로 회원과 상품의 관계는 다대다관계라고 볼 수 있다.  

![다대다](/assets/img/JPA/다대다.png)  

따라서 위의 그림과 같이 회원과 상품 테이블만으로는 다대다 관계를 표현할 수 없다.  

![다대다매핑](/assets/img/JPA/다대다매핑.png)  

위 그림 처럼 중간에 연결 테이블 하나를 추가해 다대다 관계을 일대다, 다대일 관계로 풀어낼 수 있다.  

하지만 객체는 테이블과는 다른 점이있다. 테이블은 다대다 관계를 표현하려면 중간에 연결 테이블을 두어서 일대다, 다대일 관계로 풀어내햐 한다.  

하지만 객체는 연결 테이블같은 별도의 객체가 필요 없다. 객체 2개로 다대다 관계를 표현할 수있다.  

@ManyToMany를 사용하면 된다.  



---

## 출처  
- **자바 ORM 표준 JPA 프로그래밍 김영한 저**  
- **인프런: 자바 ORM 표준 JPA 프로그래밍 - 기본편**  