---
title   : "객체와 테이블 매핑"
categories : 
    - jpa
tags : 
    - java
    - spring
    - jpa
sidebar:
    title: "JPA"
    nav : sidebar-posts
---  

JPA를 사용하는데 있어서 가장 중요한 일은 **엔티티와 테이블을 정확히 매핑** 하는 것이다.  

JPA는 다양한 매핑 애노테이션을 지원한다. 크게 4가지로 분류 할 수 있다.  

- **객체와 테이블 매핑**: @Entity, @Table
- **기본 키(Primary Key) 매핑**: @Id
- **필드와 컬럼 매핑**: @Column
- **연관관계 매핑**: @ManyToOne, @JoinColumn 등  


### @Entity  

JPA를 사용해서 테이블과 매핑할 클래스는 `@Entity` 애노테이션을 **필수**로 붙여야 한다.  

@Entity가 붙은 클래스는 JPA가 관리하는 것으로 엔티티라 부른다.  

__관련 속성__  
| 속성 | 기능 | 기본값 |
|---|---|---|
|name|JPA 에서 사용할 엔티티 이름을 지정한다. 보통 기본값인 클래스 이름을 사용한다.|설정하지 않으면 클래스 이름을 그대로 사용한다.|  


@Entity 적용 시 몇 가지 주의사항이 있다.  

JPA는 엔티티 객체를 생성할 때 기본 생성자를 사용하므로 기본 생성자는 필수이다(파라미터가 없는 public or protected)  

자바에서는 생성자가 하나도 없으면 기본 생성자를 자동으로 생성해주지만 직접 만든 임의의 생성자를 만들게 되면 기본 생성자를 자동으로 만들지 않으므로 이때는 직접 기본 생성자를 만들어 주어야 한다.  

이 외에도 final 클래스, enum, interface, inner 클래스에는 사용할 수 없고, 저장할 필드에 final을 사용하면 안된다.  

### @Table  

엔티티와 매핑할 테이블을 지정한다. 생랼하면 매핑한 엔티티 이름을 테이블 이름으로 사용한다.  

| 속성 | 기능 | 기본값 |
|---|---|---|
|name|매핑할 테이블 이름|엔티티 이름을 사용한다.||
|catalog|catalog 기능이 있는 데이터베이스에서 catalog를 매핑한다.||
|schema|schema 기능이 있는 데이터베이스에서 schema를 매핑한다.||
|uniqueConstaints(DDL)|DDL 생성 시에 유니크 제약조건을 만든다.||  