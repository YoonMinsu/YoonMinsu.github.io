---
title   : "[DB기초]-기본키와 외래키"
excerpt : "DataBase"
categories : 
    - DB
tags : 
    - DB
sidebar:
    title: "DataBase"
    nav : sidebar-posts
---  

## 키(Key)란?  
- 특정 튜플을 식별할 때 사용하는 속성 혹은 속성의 집합
- 키가 되는 속성(또는 속성의 집합)은 값이 반드시 달라서 튜플들을 구별할 수 있어야한다.
- 키는 릴레이션간의 관계를 맺는 데도 사용된다.

한 릴레이션에서 중복되는 튜플들은 존재할 수가 없다. 그러므로 각각의 튜플에 포함된 속성들 중 어느 하나(또는 하나 이상)의 값은 달라져야 하고 __각각의 튜플을 식별하는 역할__ 을 Key가 담당한다.  


![table1](/assets/img/database/table1.png)  

--------  

### 슈퍼키(Super Key)  
- 한 릴레이션 내에 있는 속성들의 집합으로 구성된 키
- 릴레이션을 구성하는 모든 튜플 중 슈퍼키로 구성된 속성의 집합과 동일한 값은 나타내지 않는다.
- 릴레이션을 구성하는 모든 튜플에 대해 유일성(Unique)은 만족하지만, 최소성(Minimality)은 만족하지 못한다.

[학생] 릴레이션에서는 학번, 주민등록번호, (학번, 주민등록번호), (학번, 주민등록번호, 이름) 등이 슈퍼키가 된다.  

> __유일성__: 하나의 키 값으로 하나의 튜플만들 유일하게 식별할 수 있어야 한다.
> __최소성__: 모든 레코드들을 유일하게 식별하는데 꼭 필요한 속성만으로 구성되어 있어야 한다.

<br/>

### 후보키(Candidate Key)  
- 릴레이션을 구성하는 속성들 중에서 튜플을 유일하게 식별하기 위해 사용되는 속성들의 부분집합
- 유일성과 최소성을 모두 만족한다.

[학생] 릴레이셔에서는 학번과 주민등록번호는 유일성과 최소성을 만족하므로 후보키가 된다.  
[수강] 릴레이션에서는 (학번, 과목명)으로 조합해야 유일성과 최소성을 만족하기 때문에 (학번, 과목명)으로 조합된 것이 후보키가 된다.  

__(학번, 과목명)과 같이 2개 이상의 필드를 조합하여 만든 키를 복합키(Comoisite Key)라고 한다__  

<br/>

### 기본키(Primary Key)  
- 후보키 중에서 특별히 선정된 키로 중복된 값을 가질 수 없다.
- 후보키의 성질을 가진다. 즉 유일성과 최소성을 가지며 튜플을 식별하기 위해 반드시 필요한 키
- Null 값을 가질 수 없다. 튜플에서 기본키로 설정된 속성에는 Null 값이 있어서는 안된다.

__[기본키 선정시 고려사항]__
- 릴레이션 내 튜플을 식별할 수 있는 고유한 값을 가져야한다.
- Null 값은 허용하지 않는다.
- 키 값의 변동이 일어나지 않아야 한다
- 최대한 적은 수의 속성을 가진 것이어야 한다.
- 향후 키를 사용하는 데 있어서 문제 발생 소지가 없어야 한다.

[학생] 릴레이션에서는 후보키인 학번이나 주민등록번호 중에서 선택하여 기본키로 만들 수 있다.  

<br/>

### 대체키(Alternate Key)  
- 후보키가 둘 이상일 때 기본키를 제외한 나머지 후보키들을 말한다.
- 보조키라고도 한다

[학생] 릴레이션에서 학번이 기본키로 설정되면 주민등록번호가 대체키가 된다.  

<br/>

### 외래키(Foreign Key)  
- 다른 릴레이션의 기본키를 참조하는 속성 또는 속성들의 집합을 의미한다.
- 릴레이션 간의 관계를 표현할 때 사용된다.
- 참조하고(외래키) 참조되는(기본키) 양쪽 릴레이션의 도메인은 서로 같아야 한다.
- 참조되는 값이 변경되면 참조하는 값도 변경된다.
- Null 값과 중복 값 등이 허용된다.